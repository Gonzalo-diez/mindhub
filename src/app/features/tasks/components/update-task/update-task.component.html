<div class="container mx-auto p-4">
  <div class="max-w-2xl mx-auto bg-white p-6 rounded-lg shadow-md">
    <h1 class="text-2xl font-bold mb-4 text-center">Update Task</h1>

    <form [formGroup]="updateTaskForm" (ngSubmit)="onSubmit()">
      <!-- Title -->
      <div class="mb-4">
        <label class="block text-gray-700 font-bold mb-2" for="title"
          >Title</label
        >
        <input
          type="text"
          id="title"
          formControlName="title"
          class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
          placeholder="Enter task title"
        />
        <div
          *ngIf="
            updateTaskForm.get('title')?.invalid &&
            updateTaskForm.get('title')?.touched
          "
          class="text-red-500 text-sm mt-1"
        >
          Title is required.
        </div>
      </div>

      <!-- Description -->
      <div class="mb-4">
        <label class="block text-gray-700 font-bold mb-2" for="description"
          >Description</label
        >
        <textarea
          id="description"
          formControlName="description"
          class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
          placeholder="Enter task description"
        ></textarea>
        <div
          *ngIf="
            updateTaskForm.get('description')?.invalid &&
            updateTaskForm.get('description')?.touched
          "
          class="text-red-500 text-sm mt-1"
        >
          Description is required.
        </div>
      </div>

      <!-- Priority -->
      <div formArrayName="priority">
        <label class="block text-gray-700 font-medium mb-2"
          >Priority</label
        >
        <div class="grid grid-cols-2 gap-2">
          <div *ngFor="let priority of priority; let i = index">
            <label class="flex items-center space-x-2">
              <input
                type="checkbox"
                [formControlName]="i"
                class="form-checkbox h-5 w-5 text-blue-600 focus:ring-blue-500"
              />
              <span class="text-gray-700">{{ priority }}</span>
            </label>
          </div>
        </div>
        <div
          *ngIf="
            updateTaskForm.controls['priority'].invalid &&
            updateTaskForm.controls['priority'].touched
          "
          class="text-red-600 text-sm mt-1"
        >
          Select a priority.
        </div>
      </div>

      <!-- Due Date -->
      <div class="mb-4">
        <label class="block text-gray-700 font-bold mb-2" for="dueDate"
          >Due Date</label
        >
        <input
          type="date"
          id="dueDate"
          formControlName="dueDate"
          class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
        <div
          *ngIf="
            updateTaskForm.get('dueDate')?.invalid &&
            updateTaskForm.get('dueDate')?.touched
          "
          class="text-red-500 text-sm mt-1"
        >
          Due date is required.
        </div>
      </div>

      <!-- Status -->
      <div formArrayName="status">
        <label class="block text-gray-700 font-medium mb-2"
          >Status</label
        >
        <div class="grid grid-cols-2 gap-2">
          <div *ngFor="let status of status; let i = index">
            <label class="flex items-center space-x-2">
              <input
                type="checkbox"
                [formControlName]="i"
                class="form-checkbox h-5 w-5 text-blue-600 focus:ring-blue-500"
              />
              <span class="text-gray-700">{{ status }}</span>
            </label>
          </div>
        </div>
        <div
          *ngIf="
            updateTaskForm.controls['status'].invalid &&
            updateTaskForm.controls['status'].touched
          "
          class="text-red-600 text-sm mt-1"
        >
          Select a status.
        </div>
      </div>

      <!-- Error message -->
      <div *ngIf="errorMessage" class="text-red-500 text-sm mb-4">
        {{ errorMessage }}
      </div>

      <!-- Submit Button -->
      <div class="flex justify-center">
        <button
          type="submit"
          [disabled]="!updateTaskForm.valid"
          class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 disabled:opacity-50"
        >
          Update Task
        </button>
      </div>
    </form>
  </div>
</div>
